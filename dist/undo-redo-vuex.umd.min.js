!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).undoRedo={})}(this,(function(t){"use strict";function n(t,n){return t(n={exports:{}},n.exports),n.exports}n((function(t){var n=function(t){var n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function a(t,n,e,r){var o=n&&n.prototype instanceof f?n:f,i=Object.create(o.prototype),c=new _(r||[]);return i._invoke=function(t,n,e){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(e.method=o,e.arg=i;;){var c=e.delegate;if(c){var a=b(c,e);if(a){if(a===s)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var f=u(t,n,e);if("normal"===f.type){if(r=e.done?"completed":"suspendedYield",f.arg===s)continue;return{value:f.arg,done:e.done}}"throw"===f.type&&(r="completed",e.method="throw",e.arg=f.arg)}}}(t,e,c),i}function u(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var s={};function f(){}function l(){}function p(){}var h={};h[o]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(O([])));v&&v!==n&&e.call(v,o)&&(h=v);var y=p.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function m(t,n){var r;this._invoke=function(o,i){function c(){return new n((function(r,c){!function r(o,i,c,a){var s=u(t[o],t,i);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&e.call(l,"__await")?n.resolve(l.__await).then((function(t){r("next",t,c,a)}),(function(t){r("throw",t,c,a)})):n.resolve(l).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,a)}))}a(s.arg)}(o,i,r,c)}))}return r=r?r.then(c,c):c()}}function b(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,b(t,n),"throw"===n.method))return s;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,s;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,s):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,s)}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function x(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return l.prototype=y.constructor=p,p.constructor=l,p[c]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===l||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(m.prototype),m.prototype[i]=function(){return this},t.AsyncIterator=m,t.async=function(n,e,r,o,i){void 0===i&&(i=Promise);var c=new m(a(n,e,r,o),i);return t.isGeneratorFunction(e)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},g(y),y[c]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return c.type="throw",c.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=e.call(i,"catchLoc"),u=e.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=n,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(c)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),s},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),x(e),s}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;x(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:O(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}));function e(t,n,e,r,o,i,c){try{var a=t[i](c),u=a.value}catch(t){return void e(t)}a.done?n(u):Promise.resolve(u).then(r,o)}function r(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var c=t.apply(n,r);function a(t){e(c,o,i,a,u,"next",t)}function u(t){e(c,o,i,a,u,"throw",t)}a(void 0)}))}}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function a(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var s=n((function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)})),f=n((function(t){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)})),l=(f.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),p=function(t){if(!l(t))throw TypeError(t+" is not an object!");return t},h=function(t){try{return!!t()}catch(t){return!0}},d=!h((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),v=s.document,y=l(v)&&l(v.createElement),g=function(t){return y?v.createElement(t):{}},m=!d&&!h((function(){return 7!=Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})),b=Object.defineProperty,w={f:d?Object.defineProperty:function(t,n,e){if(p(t),n=function(t,n){if(!l(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!l(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!l(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!l(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(n,!0),p(e),m)try{return b(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},x=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},_=d?function(t,n,e){return w.f(t,n,x(1,e))}:function(t,n,e){return t[n]=e,t},O={}.hasOwnProperty,S=function(t,n){return O.call(t,n)},j=0,k=Math.random(),E=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++j+k).toString(36))},P=n((function(t){var n=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:f.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),L=P("native-function-to-string",Function.toString),R=n((function(t){var n=E("src"),e=(""+L).split("toString");f.inspectSource=function(t){return L.call(t)},(t.exports=function(t,r,o,i){var c="function"==typeof o;c&&(S(o,"name")||_(o,"name",r)),t[r]!==o&&(c&&(S(o,n)||_(o,n,t[r]?""+t[r]:e.join(String(r)))),t===s?t[r]=o:i?t[r]?t[r]=o:_(t,r,o):(delete t[r],_(t,r,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[n]||L.call(this)}))})),M=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},A=function(t,n,e){if(M(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}},T=function(t,n,e){var r,o,i,c,a=t&T.F,u=t&T.G,l=t&T.S,p=t&T.P,h=t&T.B,d=u?s:l?s[n]||(s[n]={}):(s[n]||{}).prototype,v=u?f:f[n]||(f[n]={}),y=v.prototype||(v.prototype={});for(r in u&&(e=n),e)i=((o=!a&&d&&void 0!==d[r])?d:e)[r],c=h&&o?A(i,s):p&&"function"==typeof i?A(Function.call,i):i,d&&R(d,r,i,t&T.U),v[r]!=i&&_(v,r,c),p&&y[r]!=i&&(y[r]=i)};s.core=f,T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128;var C=T,I={}.toString,F=function(t){return I.call(t).slice(8,-1)},G=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==F(t)?t.split(""):Object(t)},N=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},U=function(t){return G(N(t))},D=Math.ceil,V=Math.floor,B=function(t){return isNaN(t=+t)?0:(t>0?V:D)(t)},H=Math.min,W=function(t){return t>0?H(B(t),9007199254740991):0},$=Math.max,z=Math.min,K=function(t){return function(n,e,r){var o,i=U(n),c=W(i.length),a=function(t,n){return(t=B(t))<0?$(t+n,0):z(t,n)}(r,c);if(t&&e!=e){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((t||a in i)&&i[a]===e)return t||a||0;return!t&&-1}},Y=n((function(t){var n=P("wks"),e=s.Symbol,r="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=r&&e[t]||(r?e:E)("Symbol."+t))}).store=n})),q=Y("unscopables"),J=Array.prototype;null==J[q]&&_(J,q,{});var Q=function(t){J[q][t]=!0},X=K(!0);C(C.P,"Array",{includes:function(t){return X(this,t,arguments.length>1?arguments[1]:void 0)}}),Q("includes");var Z=Y("match"),tt=function(t){var n;return l(t)&&(void 0!==(n=t[Z])?!!n:"RegExp"==F(t))},nt=function(t,n,e){if(tt(n))throw TypeError("String#"+e+" doesn't accept regex!");return String(N(t))},et=Y("match");C(C.P+C.F*function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[et]=!1,!"/./"[t](n)}catch(t){}}return!0}("includes"),"String",{includes:function(t){return!!~nt(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});var rt=function(t,n){return{value:n,done:!!t}},ot={},it=P("keys"),ct=function(t){return it[t]||(it[t]=E(t))},at=K(!1),ut=ct("IE_PROTO"),st="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ft=Object.keys||function(t){return function(t,n){var e,r=U(t),o=0,i=[];for(e in r)e!=ut&&S(r,e)&&i.push(e);for(;n.length>o;)S(r,e=n[o++])&&(~at(i,e)||i.push(e));return i}(t,st)},lt=d?Object.defineProperties:function(t,n){p(t);for(var e,r=ft(n),o=r.length,i=0;o>i;)w.f(t,e=r[i++],n[e]);return t},pt=s.document,ht=pt&&pt.documentElement,dt=ct("IE_PROTO"),vt=function(){},yt=function(){var t,n=g("iframe"),e=st.length;for(n.style.display="none",ht.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),yt=t.F;e--;)delete yt.prototype[st[e]];return yt()},gt=Object.create||function(t,n){var e;return null!==t?(vt.prototype=p(t),e=new vt,vt.prototype=null,e[dt]=t):e=yt(),void 0===n?e:lt(e,n)},mt=w.f,bt=Y("toStringTag"),wt=function(t,n,e){t&&!S(t=e?t:t.prototype,bt)&&mt(t,bt,{configurable:!0,value:n})},xt={};_(xt,Y("iterator"),(function(){return this}));var _t=function(t,n,e){t.prototype=gt(xt,{next:x(1,e)}),wt(t,n+" Iterator")},Ot=function(t){return Object(N(t))},St=ct("IE_PROTO"),jt=Object.prototype,kt=Object.getPrototypeOf||function(t){return t=Ot(t),S(t,St)?t[St]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?jt:null},Et=Y("iterator"),Pt=!([].keys&&"next"in[].keys()),Lt=function(){return this},Rt=function(t,n,e,r,o,i,c){_t(e,n,r);var a,u,s,f=function(t){if(!Pt&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},l=n+" Iterator",p="values"==o,h=!1,d=t.prototype,v=d[Et]||d["@@iterator"]||o&&d[o],y=v||f(o),g=o?p?f("entries"):y:void 0,m="Array"==n&&d.entries||v;if(m&&(s=kt(m.call(new t)))!==Object.prototype&&s.next&&(wt(s,l,!0),"function"!=typeof s[Et]&&_(s,Et,Lt)),p&&v&&"values"!==v.name&&(h=!0,y=function(){return v.call(this)}),(Pt||h||!d[Et])&&_(d,Et,y),ot[n]=y,ot[l]=Lt,o)if(a={values:p?y:f("values"),keys:i?y:f("keys"),entries:g},c)for(u in a)u in d||R(d,u,a[u]);else C(C.P+C.F*(Pt||h),n,a);return a},Mt=Rt(Array,"Array",(function(t,n){this._t=U(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,rt(1)):rt(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])}),"values");ot.Arguments=ot.Array,Q("keys"),Q("values"),Q("entries");for(var At=Y("iterator"),Tt=Y("toStringTag"),Ct=ot.Array,It={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Ft=ft(It),Gt=0;Gt<Ft.length;Gt++){var Nt,Ut=Ft[Gt],Dt=It[Ut],Vt=s[Ut],Bt=Vt&&Vt.prototype;if(Bt&&(Bt[At]||_(Bt,At,Ct),Bt[Tt]||_(Bt,Tt,Ut),ot[Ut]=Ct,Dt))for(Nt in Mt)Bt[Nt]||R(Bt,Nt,Mt[Nt],!0)}!function(t,n){var e=(f.Object||{})[t]||Object[t],r={};r[t]=n(e),C(C.S+C.F*h((function(){e(1)})),"Object",r)}("keys",(function(){return function(t){return ft(Ot(t))}}));var Ht,Wt,$t=Y("species"),zt=function(t,n){var e,r=p(t).constructor;return void 0===r||null==(e=p(r)[$t])?n:M(e)},Kt=function(t){return function(n,e){var r,o,i=String(N(n)),c=B(e),a=i.length;return c<0||c>=a?t?"":void 0:(r=i.charCodeAt(c))<55296||r>56319||c+1===a||(o=i.charCodeAt(c+1))<56320||o>57343?t?i.charAt(c):r:t?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},Yt=Kt(!0),qt=function(t,n,e){return n+(e?Yt(t,n).length:1)},Jt=Y("toStringTag"),Qt="Arguments"==F(function(){return arguments}()),Xt=function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),Jt))?e:Qt?F(n):"Object"==(r=F(n))&&"function"==typeof n.callee?"Arguments":r},Zt=RegExp.prototype.exec,tn=function(t,n){var e=t.exec;if("function"==typeof e){var r=e.call(t,n);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Xt(t))throw new TypeError("RegExp#exec called on incompatible receiver");return Zt.call(t,n)},nn=function(){var t=p(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n},en=RegExp.prototype.exec,rn=String.prototype.replace,on=en,cn=(Ht=/a/,Wt=/b*/g,en.call(Ht,"a"),en.call(Wt,"a"),0!==Ht.lastIndex||0!==Wt.lastIndex),an=void 0!==/()??/.exec("")[1];(cn||an)&&(on=function(t){var n,e,r,o,i=this;return an&&(e=new RegExp("^"+i.source+"$(?!\\s)",nn.call(i))),cn&&(n=i.lastIndex),r=en.call(i,t),cn&&r&&(i.lastIndex=i.global?r.index+r[0].length:n),an&&r&&r.length>1&&rn.call(r[0],e,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var un=on;C({target:"RegExp",proto:!0,forced:un!==/./.exec},{exec:un});var sn=Y("species"),fn=!h((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),ln=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}(),pn=Math.min,hn=[].push,dn="length",vn=!h((function(){RegExp(4294967295,"y")}));!function(t,n,e){var r=Y(t),o=!h((function(){var n={};return n[r]=function(){return 7},7!=""[t](n)})),i=o?!h((function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[sn]=function(){return e}),e[r](""),!n})):void 0;if(!o||!i||"replace"===t&&!fn||"split"===t&&!ln){var c=/./[r],a=e(N,r,""[t],(function(t,n,e,r,i){return n.exec===un?o&&!i?{done:!0,value:c.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}})),u=a[0],s=a[1];R(String.prototype,t,u),_(RegExp.prototype,r,2==n?function(t,n){return s.call(t,this,n)}:function(t){return s.call(t,this)})}}("split",2,(function(t,n,e,r){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[dn]||2!="ab".split(/(?:ab)*/)[dn]||4!=".".split(/(.?)(.?)/)[dn]||".".split(/()()/)[dn]>1||"".split(/.?/)[dn]?function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!tt(t))return e.call(r,t,n);for(var o,i,c,a=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=void 0===n?4294967295:n>>>0,l=new RegExp(t.source,u+"g");(o=un.call(l,r))&&!((i=l.lastIndex)>s&&(a.push(r.slice(s,o.index)),o[dn]>1&&o.index<r[dn]&&hn.apply(a,o.slice(1)),c=o[0][dn],s=i,a[dn]>=f));)l.lastIndex===o.index&&l.lastIndex++;return s===r[dn]?!c&&l.test("")||a.push(""):a.push(r.slice(s)),a[dn]>f?a.slice(0,f):a}:"0".split(void 0,0)[dn]?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,r){var i=t(this),c=null==e?void 0:e[n];return void 0!==c?c.call(e,i,r):o.call(String(i),e,r)},function(t,n){var i=r(o,t,this,n,o!==e);if(i.done)return i.value;var c=p(t),a=String(this),u=zt(c,RegExp),s=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(vn?"y":"g"),l=new u(vn?c:"^(?:"+c.source+")",f),h=void 0===n?4294967295:n>>>0;if(0===h)return[];if(0===a.length)return null===tn(l,a)?[a]:[];for(var d=0,v=0,y=[];v<a.length;){l.lastIndex=vn?v:0;var g,m=tn(l,vn?a:a.slice(v));if(null===m||(g=pn(W(l.lastIndex+(vn?0:v)),a.length))===d)v=qt(a,v,s);else{if(y.push(a.slice(d,v)),y.length===h)return y;for(var b=1;b<=m.length-1;b++)if(y.push(m[b]),y.length===h)return y;v=d=g}}return y.push(a.slice(d)),y}]}));var yn=Array.isArray||function(t){return"Array"==F(t)},gn=Y("species"),mn=function(t,n){return new(function(t){var n;return yn(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!yn(n.prototype)||(n=void 0),l(n)&&null===(n=n[gn])&&(n=void 0)),void 0===n?Array:n}(t))(n)},bn=function(t,n){var e=1==t,r=2==t,o=3==t,i=4==t,c=6==t,a=5==t||c,u=n||mn;return function(n,s,f){for(var l,p,h=Ot(n),d=G(h),v=A(s,f,3),y=W(d.length),g=0,m=e?u(n,y):r?u(n,0):void 0;y>g;g++)if((a||g in d)&&(p=v(l=d[g],g,h),t))if(e)m[g]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return g;case 2:m.push(l)}else if(i)return!1;return c?-1:o||i?i:m}},wn=bn(6),xn="findIndex",_n=!0;xn in[]&&Array(1)[xn]((function(){_n=!1})),C(C.P+C.F*_n,"Array",{findIndex:function(t){return wn(this,t,arguments.length>1?arguments[1]:void 0)}}),Q(xn);var On,Sn,jn,kn=function(t,n,e,r){try{return r?n(p(e)[0],e[1]):n(e)}catch(n){var o=t.return;throw void 0!==o&&p(o.call(t)),n}},En=Y("iterator"),Pn=Array.prototype,Ln=Y("iterator"),Rn=f.getIteratorMethod=function(t){if(null!=t)return t[Ln]||t["@@iterator"]||ot[Xt(t)]},Mn=n((function(t){var n={},e={},r=t.exports=function(t,r,o,i,c){var a,u,s,f,l,h=c?function(){return t}:Rn(t),d=A(o,i,r?2:1),v=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(void 0===(l=h)||ot.Array!==l&&Pn[En]!==l){for(s=h.call(t);!(u=s.next()).done;)if((f=kn(s,d,u.value,r))===n||f===e)return f}else for(a=W(t.length);a>v;v++)if((f=r?d(p(u=t[v])[0],u[1]):d(t[v]))===n||f===e)return f};r.BREAK=n,r.RETURN=e})),An=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)},Tn=s.process,Cn=s.setImmediate,In=s.clearImmediate,Fn=s.MessageChannel,Gn=s.Dispatch,Nn=0,Un={},Dn=function(){var t=+this;if(Un.hasOwnProperty(t)){var n=Un[t];delete Un[t],n()}},Vn=function(t){Dn.call(t.data)};Cn&&In||(Cn=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return Un[++Nn]=function(){An("function"==typeof t?t:Function(t),n)},On(Nn),Nn},In=function(t){delete Un[t]},"process"==F(Tn)?On=function(t){Tn.nextTick(A(Dn,t,1))}:Gn&&Gn.now?On=function(t){Gn.now(A(Dn,t,1))}:Fn?(jn=(Sn=new Fn).port2,Sn.port1.onmessage=Vn,On=A(jn.postMessage,jn,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(On=function(t){s.postMessage(t+"","*")},s.addEventListener("message",Vn,!1)):On="onreadystatechange"in g("script")?function(t){ht.appendChild(g("script")).onreadystatechange=function(){ht.removeChild(this),Dn.call(t)}}:function(t){setTimeout(A(Dn,t,1),0)});var Bn={set:Cn,clear:In},Hn=Bn.set,Wn=s.MutationObserver||s.WebKitMutationObserver,$n=s.process,zn=s.Promise,Kn="process"==F($n);function Yn(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=M(n),this.reject=M(e)}var qn={f:function(t){return new Yn(t)}},Jn=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Qn=s.navigator,Xn=Qn&&Qn.userAgent||"",Zn=Y("species"),te=Y("iterator"),ne=!1;try{var ee=[7][te]();ee.return=function(){ne=!0},Array.from(ee,(function(){throw 2}))}catch(t){}var re,oe,ie,ce,ae=Bn.set,ue=function(){var t,n,e,r=function(){var r,o;for(Kn&&(r=$n.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(Kn)e=function(){$n.nextTick(r)};else if(!Wn||s.navigator&&s.navigator.standalone)if(zn&&zn.resolve){var o=zn.resolve(void 0);e=function(){o.then(r)}}else e=function(){Hn.call(s,r)};else{var i=!0,c=document.createTextNode("");new Wn(r).observe(c,{characterData:!0}),e=function(){c.data=i=!i}}return function(r){var o={fn:r,next:void 0};n&&(n.next=o),t||(t=o,e()),n=o}}(),se=s.TypeError,fe=s.process,le=fe&&fe.versions,pe=le&&le.v8||"",he=s.Promise,de="process"==Xt(fe),ve=function(){},ye=oe=qn.f,ge=!!function(){try{var t=he.resolve(1),n=(t.constructor={})[Y("species")]=function(t){t(ve,ve)};return(de||"function"==typeof PromiseRejectionEvent)&&t.then(ve)instanceof n&&0!==pe.indexOf("6.6")&&-1===Xn.indexOf("Chrome/66")}catch(t){}}(),me=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},be=function(t,n){if(!t._n){t._n=!0;var e=t._c;ue((function(){for(var r=t._v,o=1==t._s,i=0,c=function(n){var e,i,c,a=o?n.ok:n.fail,u=n.resolve,s=n.reject,f=n.domain;try{a?(o||(2==t._h&&_e(t),t._h=1),!0===a?e=r:(f&&f.enter(),e=a(r),f&&(f.exit(),c=!0)),e===n.promise?s(se("Promise-chain cycle")):(i=me(e))?i.call(e,u,s):u(e)):s(r)}catch(t){f&&!c&&f.exit(),s(t)}};e.length>i;)c(e[i++]);t._c=[],t._n=!1,n&&!t._h&&we(t)}))}},we=function(t){ae.call(s,(function(){var n,e,r,o=t._v,i=xe(t);if(i&&(n=Jn((function(){de?fe.emit("unhandledRejection",o,t):(e=s.onunhandledrejection)?e({promise:t,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)})),t._h=de||xe(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},xe=function(t){return 1!==t._h&&0===(t._a||t._c).length},_e=function(t){ae.call(s,(function(){var n;de?fe.emit("rejectionHandled",t):(n=s.onrejectionhandled)&&n({promise:t,reason:t._v})}))},Oe=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),be(n,!0))},Se=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw se("Promise can't be resolved itself");(n=me(t))?ue((function(){var r={_w:e,_d:!1};try{n.call(t,A(Se,r,1),A(Oe,r,1))}catch(t){Oe.call(r,t)}})):(e._v=t,e._s=1,be(e,!1))}catch(t){Oe.call({_w:e,_d:!1},t)}}};ge||(he=function(t){!function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!")}(this,he,"Promise","_h"),M(t),re.call(this);try{t(A(Se,this,1),A(Oe,this,1))}catch(t){Oe.call(this,t)}},(re=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,n,e){for(var r in n)R(t,r,n[r],e);return t}(he.prototype,{then:function(t,n){var e=ye(zt(this,he));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=de?fe.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&be(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),ie=function(){var t=new re;this.promise=t,this.resolve=A(Se,t,1),this.reject=A(Oe,t,1)},qn.f=ye=function(t){return t===he||t===ce?new ie(t):oe(t)}),C(C.G+C.W+C.F*!ge,{Promise:he}),wt(he,"Promise"),function(t){var n=s[t];d&&n&&!n[Zn]&&w.f(n,Zn,{configurable:!0,get:function(){return this}})}("Promise"),ce=f.Promise,C(C.S+C.F*!ge,"Promise",{reject:function(t){var n=ye(this);return(0,n.reject)(t),n.promise}}),C(C.S+C.F*!ge,"Promise",{resolve:function(t){return function(t,n){if(p(t),l(n)&&n.constructor===t)return n;var e=qn.f(t);return(0,e.resolve)(n),e.promise}(this,t)}}),C(C.S+C.F*!(ge&&function(t,n){if(!n&&!ne)return!1;var e=!1;try{var r=[7],o=r[te]();o.next=function(){return{done:e=!0}},r[te]=function(){return o},t(r)}catch(t){}return e}((function(t){he.all(t).catch(ve)}))),"Promise",{all:function(t){var n=this,e=ye(n),r=e.resolve,o=e.reject,i=Jn((function(){var e=[],i=0,c=1;Mn(t,!1,(function(t){var a=i++,u=!1;e.push(void 0),c++,n.resolve(t).then((function(t){u||(u=!0,e[a]=t,--c||r(e))}),o)})),--c||r(e)}));return i.e&&o(i.v),e.promise},race:function(t){var n=this,e=ye(n),r=e.reject,o=Jn((function(){Mn(t,!1,(function(t){n.resolve(t).then(e.resolve,r)}))}));return o.e&&r(o.v),e.promise}});var je=bn(5),ke=!0;"find"in[]&&Array(1).find((function(){ke=!1})),C(C.P+C.F*ke,"Array",{find:function(t){return je(this,t,arguments.length>1?arguments[1]:void 0)}}),Q("find");var Ee=function(t){return function(n){return t.find((function(t){return t.namespace===n}))||{}}},Pe=function(t){return function(n){return n.filter((function(t){return!!t.action})).reduce((function(n,e){var r=e.action,o=e.payload;return n.then((function(){return t.dispatch(r,o)}))}),Promise.resolve())}},Le=function(t){return function(n,e){var r=t.findIndex((function(t){return t.namespace===n}));t.splice(r,1,e)}},Re=function(t){var n=t.paths,e=t.store;return function(t){var r=function(t){return function(n){var e=Ee(t)(n).done;return!!e&&e.filter((function(t){return!t.payload.skip})).length>0}}(n)(t),o=function(t){return function(n){var e=Ee(t)(n).undone;return!!e&&e.filter((function(t){return!t.payload.skip})).length>0}}(n)(t);e.commit("".concat(t).concat("updateCanUndoRedo"),{canUndo:r}),e.commit("".concat(t).concat("updateCanUndoRedo"),{canRedo:o})}},Me=Kt(!0);Rt(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=Me(n,e),this._i+=t.length,{value:t,done:!1})}));var Ae=function(t){var n=t.paths,e=t.store;return function(){var t=r(regeneratorRuntime.mark((function t(o){var i,u,s,f,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Ee(n)(o),!Object.keys(i).length){t.next=15;break}return u=i.undone.reduceRight((function(t,n){var e=t.commits,r=t.undone,o=t.proceed;if(e.length)if(o){var i=e[e.length-1].payload.actionGroup;o=n.payload.skip||n.payload.actionGroup&&n.payload.actionGroup===i,e=[].concat(a(o?[n]:[]),a(e)),r=[].concat(a(o?[]:[n]),a(r))}else r=[n].concat(a(r));else e=[n],o=n.payload.skip||!!n.payload.actionGroup;return{commits:e,undone:r,proceed:o}}),{commits:[],undone:[],proceed:!0}),s=u.undone,f=u.commits,i.newMutation=!1,l=f.filter((function(t){return t.type&&t.payload})).map(function(){var t=r(regeneratorRuntime.mark((function t(n){var r,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.type,i=n.payload,e.commit(r,Array.isArray(i)?a(i):i.constructor(i)),c=i.redoCallback,t.abrupt("return",{action:c?"".concat(o).concat(c):"",payload:i});case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.t0=Pe(e),t.next=8,Promise.all(l);case 8:return t.t1=t.sent,t.next=11,(0,t.t0)(t.t1);case 11:i.done=[].concat(a(i.done),a(f)),i.newMutation=!0,Le(n)(o,c(c({},i),{},{undone:s})),Re({paths:n,store:e})(o);case 15:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},Te=function(t){var n=t.paths,e=t.store;return function(){var t=r(regeneratorRuntime.mark((function t(o){var i,u,s,f,l,p,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Ee(n)(o),!Object.keys(i).length){t.next=19;break}return u=i.done.reduceRight((function(t,n){var e=t.commits,r=t.done,o=t.proceed;if(console.log(n.payload),e.length)if(o){var i=e[e.length-1].payload.actionGroup;o=n.payload.skip||n.payload.actionGroup&&n.payload.actionGroup===i,e=[].concat(a(o?[n]:[]),a(e)),r=[].concat(a(o?[]:[n]),a(r))}else r=[n].concat(a(r));else e=[n],o=n.payload.skip||!!n.payload.actionGroup;return{done:r,commits:e,proceed:o}}),{done:[],commits:[],proceed:!0}),s=u.done,f=u.commits,l=f.map((function(t){var n=t.payload;return{action:n.undoCallback?"".concat(o).concat(n.undoCallback):"",payload:n}})),t.next=6,Pe(e)(l);case 6:return p=[].concat(a(i.undone),a(f)),i.newMutation=!1,e.commit("".concat(o).concat("emptyState")),h=s.filter((function(t){return t.type&&t.payload})).map(function(){var t=r(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit(n.type,Array.isArray(n.payload)?a(n.payload):n.payload.constructor(n.payload)),r=n.payload.redoCallback,t.abrupt("return",{action:r?"".concat(o).concat(r):"",payload:n.payload});case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.t0=Pe(e),t.next=13,Promise.all(h);case 13:return t.t1=t.sent,t.next=16,(0,t.t0)(t.t1);case 16:i.newMutation=!0,Le(n)(o,c(c({},i),{},{done:s,undone:p})),Re({paths:n,store:e})(o);case 19:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},Ce=function(t){var n=t.paths,e=t.store;return function(){var t=r(regeneratorRuntime.mark((function t(r){var o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Ee(n)(r),!Object.keys(o).length){t.next=12;break}return i=o.done.map((function(t){var n=t.payload;return{action:n.undoCallback?"".concat(r).concat(n.undoCallback):"",payload:n}})),t.next=5,Pe(e)(i);case 5:a=[],u=[],o.newMutation=!1,e.commit("".concat(r).concat("emptyState")),o.newMutation=!0,Le(n)(r,c(c({},o),{},{done:a,undone:u})),Re({paths:n,store:e})(r);case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},Ie=function(){},Fe=Ie,Ge=Ie,Ne=Ie,Ue=function(t){return c(c({},t),{},{canUndo:!1,canRedo:!1})},De=function(t){return c(c({},t),{},{undo:Fe,redo:Ge,clear:Ne})},Ve=function(t){return c(c({},t),{},{updateCanUndoRedo:function(t,n){void 0!==n.canUndo&&(t.canUndo=n.canUndo),void 0!==n.canRedo&&(t.canRedo=n.canRedo)}})},Be=function(t){var n=t.namespace,e=void 0===n?"":n,r=t.ignoreMutations;return{namespace:e,ignoreMutations:void 0===r?[]:r,done:[],undone:[],newMutation:!0}},He=function(t){return t.map((function(t){var n=t.namespace,e=t.ignoreMutations;return Be(c({namespace:"".concat(n,"/")},e?function(t){var n=t.namespace;return{ignoreMutations:(t.ignoreMutations||[]).map((function(t){return"".concat(n,"/").concat(t)})).concat("".concat(n,"/").concat("updateCanUndoRedo"))}}({namespace:n,ignoreMutations:e}):{}))}))},We=function(t){return function(n){var e=Ee(t)(n).undone;return!!e&&e.filter((function(t){return!t.payload.skip})).length>0}},$e=function(t){return function(n){var e=Ee(t)(n).done;return!!e&&e.filter((function(t){return!t.payload.skip})).length>0}};t.clear=Ne,t.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var e=t.paths?He(t.paths):[Be({ignoreMutations:[].concat(a(t.ignoreMutations||[]),["updateCanUndoRedo"])})];n.subscribe((function(t){var r=t.type.split("/").length>1?"".concat(t.type.split("/")[0],"/"):"",o=Ee(e)(r);if(Object.keys(o).length){var i=o.ignoreMutations,a=o.newMutation,u=o.done;t.type!=="".concat(r).concat("emptyState")&&t.type!=="".concat(r).concat("updateCanUndoRedo")&&-1===i.indexOf(t.type)&&t.type.includes(r)&&a&&(u.push(t),Le(e)(r,c(c({},o),{},{done:u})),Re({paths:e,store:n})(r))}})),n.subscribeAction(function(){var t=r(regeneratorRuntime.mark((function t(r){var o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=r.type.split("/").length>1,i=o?"".concat(r.type.split("/")[0],"/"):"",t.t0=r.type,t.next=t.t0==="".concat(i).concat("redo")?5:t.t0==="".concat(i).concat("undo")?9:t.t0==="".concat(i).concat("clear")?13:16;break;case 5:if(!We(e)(i)){t.next=8;break}return t.next=8,Ae({paths:e,store:n})(i);case 8:return t.abrupt("break",17);case 9:if(!$e(e)(i)){t.next=12;break}return t.next=12,Te({paths:e,store:n})(i);case 12:return t.abrupt("break",17);case 13:return t.next=15,Ce({paths:e,store:n})(i);case 15:case 16:return t.abrupt("break",17);case 17:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}},t.redo=Ge,t.scaffoldActions=De,t.scaffoldMutations=Ve,t.scaffoldState=Ue,t.scaffoldStore=function(t){return c(c({},t),{},{state:Ue(t.state||{}),actions:De(t.actions||{}),mutations:Ve(t.mutations||{})})},t.undo=Fe,Object.defineProperty(t,"__esModule",{value:!0})}));